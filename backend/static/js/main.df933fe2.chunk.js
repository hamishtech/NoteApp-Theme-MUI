(this["webpackJsonpmaterial-ui-tut"]=this["webpackJsonpmaterial-ui-tut"]||[]).push([[0],{172:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n,r,c,s,i=a(81),o=a(0),l=a.n(o),j=a(15),d=a.n(j),b=(a(172),a(19)),u=a(146),O=a(247),h=a(101),m=a(99),x=a(53),p=a(22),g=a(220),f=a(225),v=a(226),y=a(47),w=a(257),C=a(228),N=a(254),k=a(229),S=a(230),M=a(231),W=a(232),q=a(222),I=a(224),$=a(248),D=a(23),U=a(70),B=Object(D.gql)(n||(n=Object(U.a)(["\n  query {\n    getUser {\n      username\n      notes {\n        title\n        details\n        date\n        category\n      }\n    }\n  }\n"]))),T=a(4),V=l.a.createContext(""),A=function(e){var t=e.children,a=Object(D.useQuery)(B),n=a.data,r=a.refetch;return Object(T.jsx)(V.Provider,{value:[n,r],children:t})},H=a(227),z=Object(g.a)((function(e){return{page:{width:"100%"},drawer:{width:240},root:{display:"flex"},active:{background:"#f4f4f4"},title:{padding:e.spacing(3)},appBar:{width:"calc(100% - ".concat(240,"px)")},toolbar:{height:"90px"},date:{flexGrow:"1"},avatar:{marginRight:e.spacing(2)}}})),F=function(e){var t=e.children,a=z(),n=Object(p.g)(),r=Object(p.h)(),c=Object(o.useContext)(V),s=Object(b.a)(c,2),i=s[0],l=(s[1],Object(D.useApolloClient)());console.log(i);var j=[{text:"My Notes",icon:Object(T.jsx)(q.a,{color:"secondary"}),path:"/notes"},{text:"Create Note",icon:Object(T.jsx)(I.a,{color:"secondary"}),path:"/create"}];return Object(T.jsxs)("div",{className:a.root,children:[Object(T.jsx)(f.a,{elevation:0,className:a.appBar,children:Object(T.jsxs)(v.a,{children:[Object(T.jsx)(y.a,{className:a.date,variant:"body1",children:Object($.a)(new Date,"do MMMM Y")}),Object(T.jsxs)(y.a,{variant:"body1",component:"span",className:a.avatar,children:[i?i.getUser.username:Object(T.jsx)(H.a,{color:"secondary",size:"25px"})," "]})," ",Object(T.jsx)(w.a,{src:"",className:a.avatar}),Object(T.jsxs)("div",{children:[" ",Object(T.jsx)(C.a,{variant:"contained",color:"secondary",onClick:function(){window.localStorage.removeItem("tokenValue"),l.clearStore(),n.push("/"),r.reload()},children:"Logout"})," "]})]})}),Object(T.jsxs)(N.a,{classes:{paper:a.drawer},className:a.drawer,anchor:"left",variant:"permanent",children:[Object(T.jsx)("div",{children:Object(T.jsx)(y.a,{variant:"h5",className:a.title,children:"My Notes"})}),Object(T.jsx)(k.a,{children:j.map((function(e){return Object(T.jsxs)(S.a,{className:r.pathname===e.path?a.active:null,button:!0,onClick:function(){n.push(e.path)},children:[Object(T.jsx)(M.a,{children:e.icon}),Object(T.jsx)(W.a,{children:e.text})]},e.text)}))})]}),Object(T.jsxs)("div",{className:a.page,children:[Object(T.jsx)("div",{className:a.toolbar}),t]})]})},R=a(233),E=a(143),G=a.n(E),L=a(234),P=a(235),Y=a(258),J=a(253),Q=a(249),_=a(237),K=Object(D.gql)(r||(r=Object(U.a)(["\n  mutation CreateNote($title: String!, $details: String!, $category: String!) {\n    createNote(title: $title, details: $details, category: $category) {\n      title\n      details\n    }\n  }\n"]))),X=Object(D.gql)(c||(c=Object(U.a)(["\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]))),Z=Object(D.gql)(s||(s=Object(U.a)(["\n  mutation CreateUser($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) {\n      token\n    }\n  }\n"]))),ee=Object(g.a)({field:{marginTop:20,marginBottom:20,display:"block"}});function te(){var e=ee(),t=Object(o.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(""),s=Object(b.a)(c,2),i=s[0],l=s[1],j=Object(o.useState)(!1),d=Object(b.a)(j,2),u=d[0],O=d[1],h=Object(o.useState)(!1),m=Object(b.a)(h,2),x=m[0],g=m[1],f=Object(o.useState)("todos"),v=Object(b.a)(f,2),w=v[0],N=v[1],k=Object(D.useMutation)(K),S=Object(b.a)(k,1)[0],M=Object(p.g)(),W=Object(o.useContext)(V),q=Object(b.a)(W,2),I=(q[0],q[1]);return Object(T.jsxs)(R.a,{size:"xl",children:[Object(T.jsx)(y.a,{variant:"h6",color:"textSecondary",component:"h2",gutterBottom:!0,children:"Create a New Note"}),Object(T.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault(),O(!1),g(!1),""===n?O(!0):""===i?g(!0):void(n&&i&&(S({variables:{title:n,details:i,category:w}}).then((function(){I()})),r(""),l(""),M.push("/notes")))},children:[Object(T.jsx)(Q.a,{className:e.field,onChange:function(e){return r(e.target.value)},label:"Note Title",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,error:u}),Object(T.jsx)(Q.a,{className:e.field,onChange:function(e){return l(e.target.value)},label:"Details",variant:"outlined",color:"secondary",multiline:!0,rows:4,fullWidth:!0,required:!0,error:x}),Object(T.jsxs)(L.a,{className:e.field,children:[Object(T.jsx)(P.a,{children:"Note Category "}),Object(T.jsxs)(Y.a,{defaultValue:w,onChange:function(e){N(e.target.value)},children:[Object(T.jsx)(_.a,{control:Object(T.jsx)(J.a,{}),label:"Money",value:"money"}),Object(T.jsx)(_.a,{control:Object(T.jsx)(J.a,{}),label:"Todos",value:"todos"}),Object(T.jsx)(_.a,{control:Object(T.jsx)(J.a,{}),label:"Reminders",value:"reminders"}),Object(T.jsx)(_.a,{control:Object(T.jsx)(J.a,{}),label:"Study",value:"study"})]})]}),Object(T.jsx)(C.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(T.jsx)(G.a,{}),children:"Submit"})]})]})}var ae=a(238),ne=a(150),re=Object(g.a)({root:{minWidth:"100%",minHeight:"100vh",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:'url("https://images.unsplash.com/photo-1586156926774-098f04336b57?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2767&q=80")'},title:{flexGrow:1},spaceCreator:{height:"100px",backgroundColor:"transparent"},paper:{textAlign:"center",backgroundColor:"transparent"}}),ce=function(){var e=Object(p.g)(),t=re();return Object(T.jsxs)(R.a,{className:t.root,children:[Object(T.jsx)(f.a,{children:Object(T.jsxs)(v.a,{children:[Object(T.jsx)(y.a,{className:t.title,children:"Hamish's Note App"}),Object(T.jsx)(C.a,{variant:"contained",color:"secondary",onClick:function(){e.push("/login")},children:"Login"})]})}),Object(T.jsx)("div",{className:t.spaceCreator}),Object(T.jsx)(ae.a,{xs:12,container:!0,spacing:0,direction:"column",justify:"center",style:{minHeight:"60vh"},children:Object(T.jsxs)(ne.a,{className:t.paper,elevation:0,children:[" ",Object(T.jsxs)(y.a,{variant:"h2",children:[" ",Object(T.jsx)("pre",{style:{fontFamily:"inherit"}}),"Organize your notes"," "]})," ",Object(T.jsx)(y.a,{variant:"h2",children:" with this Note App! "}),Object(T.jsxs)(C.a,{variant:"contained",color:"primary",onClick:function(){e.push("/login")},style:{marginTop:"30px"},children:["Get started!"," "]})]})})]})},se=a(240),ie=a(255),oe=a(239),le=a(256),je=a(252),de=a(250),be=a(98),ue=a.n(be);function Oe(){return Object(T.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(T.jsxs)(oe.a,{color:"inherit",href:"https://material-ui.com/",children:["HB-Technology"," "]})," ",(new Date).getFullYear(),"."]})}function he(e){return Object(T.jsx)(je.a,Object(i.a)({elevation:6,variant:"filled"},e))}var me=Object(g.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function xe(){var e=me(),t=Object(o.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(""),s=Object(b.a)(c,2),i=s[0],j=s[1],d=l.a.useState(!1),u=Object(b.a)(d,2),O=u[0],h=u[1],m=Object(D.useMutation)(X,{onError:function(e){h(!0)}}),x=Object(b.a)(m,2),g=x[0],f=x[1],v=Object(p.g)(),N=Object(o.useContext)(V),k=Object(b.a)(N,2),S=(k[0],k[1]),M=function(e,t){"clickaway"!==t&&h(!1)};return Object(o.useEffect)((function(){f.data&&(window.localStorage.setItem("tokenValue",f.data.login.token),S(),setTimeout((function(){v.push("/notes")}),1e3))}),[f.data,v]),Object(T.jsxs)(ae.a,{container:!0,component:"main",className:e.root,children:[Object(T.jsx)(se.a,{}),Object(T.jsx)(ae.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(T.jsx)(ae.a,{item:!0,xs:12,sm:8,md:5,component:ne.a,elevation:6,square:!0,children:Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)(w.a,{className:e.avatar,children:Object(T.jsx)(ue.a,{})}),Object(T.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(T.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),g({variables:{password:n,username:i}})},children:[Object(T.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){j(e.target.value)},id:"email",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),Object(T.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){r(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(T.jsx)(_.a,{control:Object(T.jsx)(ie.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(T.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(T.jsxs)(ae.a,{container:!0,children:[Object(T.jsx)(ae.a,{item:!0,xs:!0,children:Object(T.jsx)(oe.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(T.jsx)(ae.a,{item:!0,children:Object(T.jsx)(oe.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(T.jsx)(de.a,{mt:5,children:Object(T.jsx)(Oe,{})})]}),Object(T.jsx)("div",{className:e.alert,children:Object(T.jsx)(le.a,{open:O,autoHideDuration:3e3,onClose:M,children:Object(T.jsx)(he,{onClose:M,severity:"error",children:"Invalid login details!"})})})]})})]})}var pe=a(147),ge=a(243),fe=a(244),ve=a(187),ye=a(246),we=a(245),Ce=a(241),Ne=a(100),ke=a(242),Se=Object(g.a)((function(e){return{card:{padding:e.spacing(3)},note:{border:function(e){return"todos"===e.category?"1px solid red":null}},avatar:{backgroundColor:function(e){switch(e.category){case"todos":return Ce.a[700];case"reminders":return h.a[500];case"work":return Ne.a[500];default:return ke.a[500]}}}}})),Me=function(e){var t=e.note,a=Se(t);return Object(T.jsx)("div",{children:Object(T.jsxs)(ge.a,{elevation:5,className:a.note,children:[Object(T.jsx)(fe.a,{avatar:Object(T.jsx)(w.a,{className:a.avatar,children:t.category[0].toUpperCase()}),action:Object(T.jsxs)(ve.a,{children:[" ",Object(T.jsx)(we.a,{})]}),title:t.title,subheader:t.category}),Object(T.jsx)(ye.a,{children:Object(T.jsxs)(y.a,{variant:"body1",children:[" ",t.details]})})]})})};function We(){var e=Object(o.useContext)(V),t=Object(b.a)(e,2),a=t[0],n=(t[1],Object(p.g)());return a||n.push("/login"),Object(T.jsx)(R.a,{children:a?Object(T.jsx)(pe.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:a.getUser.notes.map((function(e){return Object(T.jsx)("div",{children:Object(T.jsx)(Me,{variant:"outlined",note:e})},e.date)}))}):Object(T.jsx)(H.a,{color:"secondary",size:"25px"})})}var qe=a(109),Ie=a.n(qe),$e=a(144),De=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ue(){var e=De(),t=Object(D.useMutation)(Z),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(""),s=Object(b.a)(c,2),i=s[0],l=s[1],j=Object(o.useState)(""),d=Object(b.a)(j,2),u=d[0],O=d[1],h=Object(p.g)(),m=Object(o.useContext)(V),x=Object(b.a)(m,2),g=(x[0],x[1]);console.log(window.localStorage.getItem("tokenValue"));var f=function(){var e=Object($e.a)(Ie.a.mark((function e(t){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),""!==i&&""!==u){e.next=4;break}return e.abrupt("return");case 4:n({variables:{username:i,password:u}}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){r.data&&(window.localStorage.setItem("tokenValue",r.data.createUser.token),g(),h.push("/notes"))}),[r.data,h]),Object(T.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(se.a,{}),Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)(w.a,{className:e.avatar,children:Object(T.jsx)(ue.a,{})}),Object(T.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(T.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:f,children:[Object(T.jsxs)(ae.a,{container:!0,spacing:2,children:[Object(T.jsx)(ae.a,{item:!0,xs:12,sm:12,children:Object(T.jsx)(Q.a,{autoComplete:"fname",name:"userName",variant:"outlined",required:!0,onChange:function(e){var t=e.target;l(t.value)},fullWidth:!0,id:"userName",label:"Username",autoFocus:!0})}),Object(T.jsx)(ae.a,{item:!0,xs:12,children:Object(T.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(T.jsx)(ae.a,{item:!0,xs:12,children:Object(T.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){var t=e.target;O(t.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(T.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(T.jsx)(ae.a,{container:!0,justify:"flex-end",children:Object(T.jsx)(ae.a,{item:!0,children:Object(T.jsx)(oe.a,{href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(T.jsx)(de.a,{mt:5,children:Object(T.jsx)(Oe,{})})]})}var Be=Object(u.a)({palette:{palette:{primary:h.a,secondary:m.a}},typography:{fontFamily:"Quicksand",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700}});var Te=function(){var e=Object(o.useContext)(V),t=Object(b.a)(e,2),a=t[0];return t[1],Object(T.jsx)(O.a,{theme:Be,children:Object(T.jsx)(x.a,{children:Object(T.jsxs)(p.d,{children:[Object(T.jsx)(p.b,{path:"/login",children:Object(T.jsx)(xe,{})}),Object(T.jsx)(p.b,{path:"/register",children:Object(T.jsx)(Ue,{})}),Object(T.jsx)(p.b,{exact:!0,path:"/",children:Object(T.jsx)(ce,{})}),Object(T.jsxs)(F,{children:[Object(T.jsx)(p.b,{path:"/create",children:a?Object(T.jsx)(te,{}):Object(T.jsx)(p.a,{to:"/login"})}),Object(T.jsxs)(p.b,{exact:!0,path:"/notes",children:[Object(T.jsx)(We,{}),a?Object(T.jsx)(We,{}):Object(T.jsx)(p.a,{to:"/login"})]})]})]})})})},Ve=a(84),Ae=a(145),He=Object(D.createHttpLink)({uri:"http://localhost:4000/"}),ze=Object(Ae.a)((function(e,t){var a=t.headers,n=localStorage.getItem("tokenValue");return{headers:Object(i.a)(Object(i.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),Fe=new D.ApolloClient({link:ze.concat(He),cache:new D.InMemoryCache});d.a.render(Object(T.jsx)(Ve.ApolloProvider,{client:Fe,children:Object(T.jsx)(A,{children:Object(T.jsx)(l.a.StrictMode,{children:Object(T.jsx)(Te,{})})})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.df933fe2.chunk.js.map