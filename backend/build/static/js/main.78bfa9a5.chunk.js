(this["webpackJsonpmaterial-ui-tut"]=this["webpackJsonpmaterial-ui-tut"]||[]).push([[0],{174:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n,r,c,o,i,s=a(81),l=a(0),j=a.n(l),d=a(15),b=a.n(d),u=(a(174),a(17)),O=a(146),h=a(247),m=a(101),x=a(99),p=a(54),g=a(23),f=a(220),v=a(225),y=a(226),w=a(47),C=a(257),N=a(228),S=a(254),k=a(229),I=a(230),M=a(231),W=a(232),$=a(222),q=a(224),D=a(248),T=a(20),V=a(64),U=Object(T.gql)(n||(n=Object(V.a)(["\n  query {\n    getUser {\n      username\n      notes {\n        title\n        details\n        date\n        category\n        id\n      }\n    }\n  }\n"]))),A=a(4),B=j.a.createContext(""),H=function(e){var t=e.children,a=Object(T.useQuery)(U),n=a.data,r=a.refetch;return Object(A.jsx)(B.Provider,{value:[n,r],children:t})},z=a(227),F=Object(f.a)((function(e){return{page:{width:"100%"},drawer:{width:240},root:{display:"flex"},active:{background:"#f4f4f4"},title:{padding:e.spacing(3)},appBar:{width:"calc(100% - ".concat(240,"px)")},toolbar:{height:"90px"},date:{flexGrow:"1"},avatar:{marginRight:e.spacing(2)}}})),R=function(e){var t=e.children,a=F(),n=Object(g.g)(),r=Object(g.h)(),c=Object(l.useContext)(B),o=Object(u.a)(c,2),i=o[0],s=(o[1],Object(T.useApolloClient)()),j=[{text:"My Notes",icon:Object(A.jsx)($.a,{color:"secondary"}),path:"/notes"},{text:"Create Note",icon:Object(A.jsx)(q.a,{color:"secondary"}),path:"/create"}];return Object(A.jsxs)("div",{className:a.root,children:[Object(A.jsx)(v.a,{elevation:0,className:a.appBar,children:Object(A.jsxs)(y.a,{children:[Object(A.jsx)(w.a,{className:a.date,variant:"body1",children:Object(D.a)(new Date,"do MMMM Y")}),Object(A.jsxs)(w.a,{variant:"body1",component:"span",className:a.avatar,children:[i?i.getUser.username:Object(A.jsx)(z.a,{color:"secondary",size:"25px"})," "]})," ",Object(A.jsx)(C.a,{src:"",className:a.avatar}),Object(A.jsxs)("div",{children:[" ",Object(A.jsx)(N.a,{variant:"contained",color:"secondary",onClick:function(){window.localStorage.removeItem("tokenValue"),s.clearStore(),n.push("/")},children:"Logout"})," "]})]})}),Object(A.jsxs)(S.a,{classes:{paper:a.drawer},className:a.drawer,anchor:"left",variant:"permanent",children:[Object(A.jsx)("div",{children:Object(A.jsx)(w.a,{variant:"h5",className:a.title,children:"My Notes"})}),Object(A.jsx)(k.a,{children:j.map((function(e){return Object(A.jsxs)(I.a,{className:r.pathname===e.path?a.active:null,button:!0,onClick:function(){n.push(e.path)},children:[Object(A.jsx)(M.a,{children:e.icon}),Object(A.jsx)(W.a,{children:e.text})]},e.text)}))})]}),Object(A.jsxs)("div",{className:a.page,children:[Object(A.jsx)("div",{className:a.toolbar}),t]})]})},E=a(233),G=a(143),L=a.n(G),P=a(234),Y=a(235),J=a(258),Q=a(253),_=a(249),K=a(237),X=Object(T.gql)(r||(r=Object(V.a)(["\n  mutation CreateNote($title: String!, $details: String!, $category: String!) {\n    createNote(title: $title, details: $details, category: $category) {\n      title\n      details\n    }\n  }\n"]))),Z=Object(T.gql)(c||(c=Object(V.a)(["\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]))),ee=Object(T.gql)(o||(o=Object(V.a)(["\n  mutation CreateUser($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) {\n      token\n    }\n  }\n"]))),te=Object(T.gql)(i||(i=Object(V.a)(["\n  mutation DeleteNote($id: String!) {\n    deleteNote(id: $id)\n  }\n"]))),ae=Object(f.a)({field:{marginTop:20,marginBottom:20,display:"block"}});function ne(){var e=ae(),t=Object(l.useState)(""),a=Object(u.a)(t,2),n=a[0],r=a[1],c=Object(l.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],j=Object(l.useState)(!1),d=Object(u.a)(j,2),b=d[0],O=d[1],h=Object(l.useState)(!1),m=Object(u.a)(h,2),x=m[0],p=m[1],f=Object(l.useState)("todos"),v=Object(u.a)(f,2),y=v[0],C=v[1],S=Object(T.useMutation)(X),k=Object(u.a)(S,1)[0],I=Object(g.g)(),M=Object(l.useContext)(B),W=Object(u.a)(M,2),$=(W[0],W[1]);return Object(A.jsxs)(E.a,{size:"xl",children:[Object(A.jsx)(w.a,{variant:"h6",color:"textSecondary",component:"h2",gutterBottom:!0,children:"Create a New Note"}),Object(A.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault(),O(!1),p(!1),""===n?O(!0):""===i?p(!0):void(n&&i&&(k({variables:{title:n,details:i,category:y}}).then((function(){$()})),r(""),s(""),I.push("/notes")))},children:[Object(A.jsx)(_.a,{className:e.field,onChange:function(e){return r(e.target.value)},label:"Note Title",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,error:b}),Object(A.jsx)(_.a,{className:e.field,onChange:function(e){return s(e.target.value)},label:"Details",variant:"outlined",color:"secondary",multiline:!0,rows:4,fullWidth:!0,required:!0,error:x}),Object(A.jsxs)(P.a,{className:e.field,children:[Object(A.jsx)(Y.a,{children:"Note Category "}),Object(A.jsxs)(J.a,{defaultValue:y,onChange:function(e){C(e.target.value)},children:[Object(A.jsx)(K.a,{control:Object(A.jsx)(Q.a,{}),label:"Money",value:"money"}),Object(A.jsx)(K.a,{control:Object(A.jsx)(Q.a,{}),label:"Todos",value:"todos"}),Object(A.jsx)(K.a,{control:Object(A.jsx)(Q.a,{}),label:"Reminders",value:"reminders"}),Object(A.jsx)(K.a,{control:Object(A.jsx)(Q.a,{}),label:"Study",value:"study"})]})]}),Object(A.jsx)(N.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(A.jsx)(L.a,{}),children:"Submit"})]})]})}var re=a(238),ce=a(150),oe=Object(f.a)({root:{minWidth:"100%",minHeight:"100vh",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:'url("https://images.unsplash.com/photo-1586156926774-098f04336b57?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2767&q=80")'},title:{flexGrow:1},spaceCreator:{height:"100px",backgroundColor:"transparent"},paper:{textAlign:"center",backgroundColor:"transparent"}}),ie=function(){var e=Object(g.g)(),t=oe();return Object(A.jsxs)(E.a,{className:t.root,children:[Object(A.jsx)(v.a,{children:Object(A.jsxs)(y.a,{children:[Object(A.jsx)(w.a,{className:t.title,children:"Hamish's Note App"}),Object(A.jsx)(N.a,{variant:"contained",color:"secondary",onClick:function(){e.push("/login")},children:"Login"})]})}),Object(A.jsx)("div",{className:t.spaceCreator}),Object(A.jsx)(re.a,{xs:12,container:!0,spacing:0,direction:"column",justify:"center",style:{minHeight:"60vh"},children:Object(A.jsxs)(ce.a,{className:t.paper,elevation:0,children:[" ",Object(A.jsxs)(w.a,{variant:"h2",children:[" ",Object(A.jsx)("pre",{style:{fontFamily:"inherit"}}),"Organize your notes"," "]})," ",Object(A.jsx)(w.a,{variant:"h2",children:" with this Note App! "}),Object(A.jsxs)(N.a,{variant:"contained",color:"primary",onClick:function(){e.push("/login")},style:{marginTop:"30px"},children:["Get started!"," "]})]})})]})},se=a(240),le=a(255),je=a(239),de=a(256),be=a(252),ue=a(250),Oe=a(98),he=a.n(Oe);function me(){return Object(A.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(A.jsxs)(je.a,{color:"inherit",href:"https://material-ui.com/",children:["HB-Technology"," "]})," ",(new Date).getFullYear(),"."]})}function xe(e){return Object(A.jsx)(be.a,Object(s.a)({elevation:6,variant:"filled"},e))}var pe=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function ge(){var e=pe(),t=Object(l.useState)(""),a=Object(u.a)(t,2),n=a[0],r=a[1],c=Object(l.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],d=j.a.useState(!1),b=Object(u.a)(d,2),O=b[0],h=b[1],m=Object(T.useMutation)(Z,{onError:function(e){h(!0)}}),x=Object(u.a)(m,2),p=x[0],f=x[1],v=Object(g.g)(),y=Object(l.useContext)(B),S=Object(u.a)(y,2),k=(S[0],S[1]),I=function(e,t){"clickaway"!==t&&h(!1)};return Object(l.useEffect)((function(){f.data&&(window.localStorage.setItem("tokenValue",f.data.login.token),k(),setTimeout((function(){v.push("/notes")}),1e3))}),[f.data,v]),Object(A.jsxs)(re.a,{container:!0,component:"main",className:e.root,children:[Object(A.jsx)(se.a,{}),Object(A.jsx)(re.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(A.jsx)(re.a,{item:!0,xs:12,sm:8,md:5,component:ce.a,elevation:6,square:!0,children:Object(A.jsxs)("div",{className:e.paper,children:[Object(A.jsx)(C.a,{className:e.avatar,children:Object(A.jsx)(he.a,{})}),Object(A.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(A.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),(n.length<=3||i.length<=3)&&(h(!0),setTimeout((function(){h(!1)}),5e3)),p({variables:{password:n,username:i}})},children:[Object(A.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,error:O,fullWidth:!0,onChange:function(e){s(e.target.value)},id:"email",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),Object(A.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,error:O,fullWidth:!0,onChange:function(e){r(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(A.jsx)(K.a,{control:Object(A.jsx)(le.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(A.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(A.jsxs)(re.a,{container:!0,children:[Object(A.jsx)(re.a,{item:!0,xs:!0,children:Object(A.jsx)(je.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(A.jsx)(re.a,{item:!0,children:Object(A.jsx)(je.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(A.jsx)(ue.a,{mt:5,children:Object(A.jsx)(me,{})})]}),Object(A.jsx)("div",{className:e.alert,children:Object(A.jsx)(de.a,{open:O,autoHideDuration:3e3,onClose:I,children:Object(A.jsx)(xe,{onClose:I,severity:"error",children:"Invalid login details!"})})})]})})]})}var fe=a(147),ve=a(243),ye=a(244),we=a(189),Ce=a(246),Ne=a(245),Se=a(241),ke=a(100),Ie=a(242),Me=Object(f.a)((function(e){return{card:{padding:e.spacing(3)},note:{border:function(e){return"todos"===e.category?"1px solid red":null}},avatar:{backgroundColor:function(e){switch(e.category){case"todos":return Se.a[700];case"reminders":return m.a[500];case"work":return ke.a[500];default:return Ie.a[500]}}}}})),We=function(e){var t=e.note,a=Object(T.useApolloClient)(),n=t.id,r=Object(T.useMutation)(te),c=Object(u.a)(r,1)[0],o=Me(t);return Object(A.jsx)("div",{children:Object(A.jsxs)(ve.a,{elevation:5,className:o.note,children:[Object(A.jsx)(ye.a,{avatar:Object(A.jsx)(C.a,{className:o.avatar,children:t.category[0].toUpperCase()}),action:Object(A.jsxs)(we.a,{onClick:function(){c({variables:{id:n}}).then((function(){a.resetStore()}))},children:[" ",Object(A.jsx)(Ne.a,{})]}),title:t.title,subheader:t.category}),Object(A.jsx)(Ce.a,{children:Object(A.jsxs)(w.a,{variant:"body1",children:[" ",t.details]})})]})})};function $e(){var e=Object(l.useContext)(B),t=Object(u.a)(e,2),a=t[0];t[1],Object(g.g)();return console.log(a),Object(A.jsx)(E.a,{children:a?Object(A.jsx)(fe.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:a.getUser.notes.map((function(e){return Object(A.jsx)("div",{children:Object(A.jsx)(We,{variant:"outlined",note:e})},e.date)}))}):Object(A.jsx)(z.a,{color:"secondary",size:"25px"})})}var qe=a(109),De=a.n(qe),Te=a(144),Ve=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ue(){var e=Ve(),t=Object(T.useMutation)(ee),a=Object(u.a)(t,2),n=a[0],r=a[1],c=Object(l.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],j=Object(l.useState)(!1),d=Object(u.a)(j,2),b=d[0],O=d[1],h=Object(l.useState)(""),m=Object(u.a)(h,2),x=m[0],p=m[1],f=Object(g.g)(),v=Object(l.useContext)(B),y=Object(u.a)(v,2),S=(y[0],y[1]);console.log(window.localStorage.getItem("tokenValue"));var k=function(){var e=Object(Te.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),!(i.length<=3||x.length<=3)){e.next=5;break}return O(!0),e.abrupt("return");case 5:n({variables:{username:i,password:x}}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){r.data&&(window.localStorage.setItem("tokenValue",r.data.createUser.token),S(),setTimeout((function(){f.push("/notes")}),1e3))}),[r.data,f]),Object(A.jsxs)(E.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(se.a,{}),Object(A.jsxs)("div",{className:e.paper,children:[Object(A.jsx)(C.a,{className:e.avatar,children:Object(A.jsx)(he.a,{})}),Object(A.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(A.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:k,children:[Object(A.jsxs)(re.a,{container:!0,spacing:2,children:[Object(A.jsx)(re.a,{item:!0,xs:12,sm:12,children:Object(A.jsx)(_.a,{autoComplete:"fname",name:"userName",variant:"outlined",required:!0,onChange:function(e){var t=e.target;s(t.value)},fullWidth:!0,error:b,id:"userName",label:"Username",autoFocus:!0})}),Object(A.jsx)(re.a,{item:!0,xs:12,children:Object(A.jsx)(_.a,{variant:"outlined",error:b,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(A.jsx)(re.a,{item:!0,xs:12,children:Object(A.jsx)(_.a,{variant:"outlined",required:!0,error:b,fullWidth:!0,onChange:function(e){var t=e.target;p(t.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(A.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(A.jsx)(re.a,{container:!0,justify:"flex-end",children:Object(A.jsx)(re.a,{item:!0,children:Object(A.jsx)(je.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(A.jsx)(de.a,{open:b,autoHideDuration:5e3,onClose:function(){O(!1)},children:Object(A.jsx)(be.a,{severity:"error",children:"Include more than 3 characters for both your username and password"})}),Object(A.jsx)(ue.a,{mt:5,children:Object(A.jsx)(me,{})})]})}var Ae=function(){return Object(A.jsx)("div",{children:"404:page not found"})},Be=Object(O.a)({palette:{palette:{primary:m.a,secondary:x.a}},typography:{fontFamily:"Quicksand",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700}});var He=function(){var e=Object(l.useContext)(B),t=Object(u.a)(e,2),a=t[0];return t[1],Object(A.jsx)(h.a,{theme:Be,children:Object(A.jsx)(p.a,{children:Object(A.jsxs)(g.d,{children:[Object(A.jsx)(g.b,{path:"/login",children:Object(A.jsx)(ge,{})}),Object(A.jsx)(g.b,{path:"/register",children:Object(A.jsx)(Ue,{})}),Object(A.jsx)(g.b,{exact:!0,path:"/",children:Object(A.jsx)(ie,{})}),Object(A.jsx)(g.b,{path:"/create",children:Object(A.jsx)(R,{children:a||window.localStorage.getItem("tokenValue")?Object(A.jsx)(ne,{}):Object(A.jsx)(g.a,{to:"/login"})})}),Object(A.jsx)(g.b,{path:"/notes",children:Object(A.jsx)(R,{children:a||window.localStorage.getItem("tokenValue")?Object(A.jsx)($e,{}):Object(A.jsx)(g.a,{to:"/login"})})}),Object(A.jsx)(g.b,{children:Object(A.jsx)(Ae,{})})]})})})},ze=a(84),Fe=a(145),Re=Object(T.createHttpLink)({uri:"/graphql"}),Ee=Object(Fe.a)((function(e,t){var a=t.headers,n=localStorage.getItem("tokenValue");return{headers:Object(s.a)(Object(s.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),Ge=new T.ApolloClient({link:Ee.concat(Re),cache:new T.InMemoryCache});b.a.render(Object(A.jsx)(ze.ApolloProvider,{client:Ge,children:Object(A.jsx)(H,{children:Object(A.jsx)(j.a.StrictMode,{children:Object(A.jsx)(He,{})})})}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.78bfa9a5.chunk.js.map