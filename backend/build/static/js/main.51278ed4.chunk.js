(this["webpackJsonpmaterial-ui-tut"]=this["webpackJsonpmaterial-ui-tut"]||[]).push([[0],{172:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n,r,c,i,s=a(81),o=a(0),l=a.n(o),j=a(15),d=a.n(j),b=(a(172),a(19)),u=a(146),O=a(247),m=a(101),h=a(99),x=a(53),p=a(22),g=a(220),f=a(225),v=a(226),y=a(47),w=a(257),C=a(228),N=a(254),k=a(229),S=a(230),I=a(231),M=a(232),W=a(222),q=a(224),$=a(248),D=a(23),V=a(70),U=Object(D.gql)(n||(n=Object(V.a)(["\n  query {\n    getUser {\n      username\n      notes {\n        title\n        details\n        date\n        category\n      }\n    }\n  }\n"]))),B=a(4),T=l.a.createContext(""),A=function(e){var t=e.children,a=Object(D.useQuery)(U),n=a.data,r=a.refetch;return Object(B.jsx)(T.Provider,{value:[n,r],children:t})},H=a(227),z=Object(g.a)((function(e){return{page:{width:"100%"},drawer:{width:240},root:{display:"flex"},active:{background:"#f4f4f4"},title:{padding:e.spacing(3)},appBar:{width:"calc(100% - ".concat(240,"px)")},toolbar:{height:"90px"},date:{flexGrow:"1"},avatar:{marginRight:e.spacing(2)}}})),F=function(e){var t=e.children,a=z(),n=Object(p.g)(),r=Object(p.h)(),c=Object(o.useContext)(T),i=Object(b.a)(c,2),s=i[0],l=(i[1],Object(D.useApolloClient)()),j=[{text:"My Notes",icon:Object(B.jsx)(W.a,{color:"secondary"}),path:"/notes"},{text:"Create Note",icon:Object(B.jsx)(q.a,{color:"secondary"}),path:"/create"}];return Object(B.jsxs)("div",{className:a.root,children:[Object(B.jsx)(f.a,{elevation:0,className:a.appBar,children:Object(B.jsxs)(v.a,{children:[Object(B.jsx)(y.a,{className:a.date,variant:"body1",children:Object($.a)(new Date,"do MMMM Y")}),Object(B.jsxs)(y.a,{variant:"body1",component:"span",className:a.avatar,children:[s?s.getUser.username:Object(B.jsx)(H.a,{color:"secondary",size:"25px"})," "]})," ",Object(B.jsx)(w.a,{src:"",className:a.avatar}),Object(B.jsxs)("div",{children:[" ",Object(B.jsx)(C.a,{variant:"contained",color:"secondary",onClick:function(){window.localStorage.removeItem("tokenValue"),l.clearStore(),n.push("/")},children:"Logout"})," "]})]})}),Object(B.jsxs)(N.a,{classes:{paper:a.drawer},className:a.drawer,anchor:"left",variant:"permanent",children:[Object(B.jsx)("div",{children:Object(B.jsx)(y.a,{variant:"h5",className:a.title,children:"My Notes"})}),Object(B.jsx)(k.a,{children:j.map((function(e){return Object(B.jsxs)(S.a,{className:r.pathname===e.path?a.active:null,button:!0,onClick:function(){n.push(e.path)},children:[Object(B.jsx)(I.a,{children:e.icon}),Object(B.jsx)(M.a,{children:e.text})]},e.text)}))})]}),Object(B.jsxs)("div",{className:a.page,children:[Object(B.jsx)("div",{className:a.toolbar}),t]})]})},R=a(233),E=a(143),G=a.n(E),L=a(234),P=a(235),Y=a(258),J=a(253),Q=a(249),_=a(237),K=Object(D.gql)(r||(r=Object(V.a)(["\n  mutation CreateNote($title: String!, $details: String!, $category: String!) {\n    createNote(title: $title, details: $details, category: $category) {\n      title\n      details\n    }\n  }\n"]))),X=Object(D.gql)(c||(c=Object(V.a)(["\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]))),Z=Object(D.gql)(i||(i=Object(V.a)(["\n  mutation CreateUser($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) {\n      token\n    }\n  }\n"]))),ee=Object(g.a)({field:{marginTop:20,marginBottom:20,display:"block"}});function te(){var e=ee(),t=Object(o.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],l=i[1],j=Object(o.useState)(!1),d=Object(b.a)(j,2),u=d[0],O=d[1],m=Object(o.useState)(!1),h=Object(b.a)(m,2),x=h[0],g=h[1],f=Object(o.useState)("todos"),v=Object(b.a)(f,2),w=v[0],N=v[1],k=Object(D.useMutation)(K),S=Object(b.a)(k,1)[0],I=Object(p.g)(),M=Object(o.useContext)(T),W=Object(b.a)(M,2),q=(W[0],W[1]);return Object(B.jsxs)(R.a,{size:"xl",children:[Object(B.jsx)(y.a,{variant:"h6",color:"textSecondary",component:"h2",gutterBottom:!0,children:"Create a New Note"}),Object(B.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault(),O(!1),g(!1),""===n?O(!0):""===s?g(!0):void(n&&s&&(S({variables:{title:n,details:s,category:w}}).then((function(){q()})),r(""),l(""),I.push("/notes")))},children:[Object(B.jsx)(Q.a,{className:e.field,onChange:function(e){return r(e.target.value)},label:"Note Title",variant:"outlined",color:"secondary",fullWidth:!0,required:!0,error:u}),Object(B.jsx)(Q.a,{className:e.field,onChange:function(e){return l(e.target.value)},label:"Details",variant:"outlined",color:"secondary",multiline:!0,rows:4,fullWidth:!0,required:!0,error:x}),Object(B.jsxs)(L.a,{className:e.field,children:[Object(B.jsx)(P.a,{children:"Note Category "}),Object(B.jsxs)(Y.a,{defaultValue:w,onChange:function(e){N(e.target.value)},children:[Object(B.jsx)(_.a,{control:Object(B.jsx)(J.a,{}),label:"Money",value:"money"}),Object(B.jsx)(_.a,{control:Object(B.jsx)(J.a,{}),label:"Todos",value:"todos"}),Object(B.jsx)(_.a,{control:Object(B.jsx)(J.a,{}),label:"Reminders",value:"reminders"}),Object(B.jsx)(_.a,{control:Object(B.jsx)(J.a,{}),label:"Study",value:"study"})]})]}),Object(B.jsx)(C.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(B.jsx)(G.a,{}),children:"Submit"})]})]})}var ae=a(238),ne=a(150),re=Object(g.a)({root:{minWidth:"100%",minHeight:"100vh",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:'url("https://images.unsplash.com/photo-1586156926774-098f04336b57?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2767&q=80")'},title:{flexGrow:1},spaceCreator:{height:"100px",backgroundColor:"transparent"},paper:{textAlign:"center",backgroundColor:"transparent"}}),ce=function(){var e=Object(p.g)(),t=re();return Object(B.jsxs)(R.a,{className:t.root,children:[Object(B.jsx)(f.a,{children:Object(B.jsxs)(v.a,{children:[Object(B.jsx)(y.a,{className:t.title,children:"Hamish's Note App"}),Object(B.jsx)(C.a,{variant:"contained",color:"secondary",onClick:function(){e.push("/login")},children:"Login"})]})}),Object(B.jsx)("div",{className:t.spaceCreator}),Object(B.jsx)(ae.a,{xs:12,container:!0,spacing:0,direction:"column",justify:"center",style:{minHeight:"60vh"},children:Object(B.jsxs)(ne.a,{className:t.paper,elevation:0,children:[" ",Object(B.jsxs)(y.a,{variant:"h2",children:[" ",Object(B.jsx)("pre",{style:{fontFamily:"inherit"}}),"Organize your notes"," "]})," ",Object(B.jsx)(y.a,{variant:"h2",children:" with this Note App! "}),Object(B.jsxs)(C.a,{variant:"contained",color:"primary",onClick:function(){e.push("/login")},style:{marginTop:"30px"},children:["Get started!"," "]})]})})]})},ie=a(240),se=a(255),oe=a(239),le=a(256),je=a(252),de=a(250),be=a(98),ue=a.n(be);function Oe(){return Object(B.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(B.jsxs)(oe.a,{color:"inherit",href:"https://material-ui.com/",children:["HB-Technology"," "]})," ",(new Date).getFullYear(),"."]})}function me(e){return Object(B.jsx)(je.a,Object(s.a)({elevation:6,variant:"filled"},e))}var he=Object(g.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function xe(){var e=he(),t=Object(o.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],j=i[1],d=l.a.useState(!1),u=Object(b.a)(d,2),O=u[0],m=u[1],h=Object(D.useMutation)(X,{onError:function(e){m(!0)}}),x=Object(b.a)(h,2),g=x[0],f=x[1],v=Object(p.g)(),N=Object(o.useContext)(T),k=Object(b.a)(N,2),S=(k[0],k[1]),I=function(e,t){"clickaway"!==t&&m(!1)};return Object(o.useEffect)((function(){f.data&&(window.localStorage.setItem("tokenValue",f.data.login.token),S(),setTimeout((function(){v.push("/notes")}),1e3))}),[f.data,v]),Object(B.jsxs)(ae.a,{container:!0,component:"main",className:e.root,children:[Object(B.jsx)(ie.a,{}),Object(B.jsx)(ae.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(B.jsx)(ae.a,{item:!0,xs:12,sm:8,md:5,component:ne.a,elevation:6,square:!0,children:Object(B.jsxs)("div",{className:e.paper,children:[Object(B.jsx)(w.a,{className:e.avatar,children:Object(B.jsx)(ue.a,{})}),Object(B.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(B.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),g({variables:{password:n,username:s}})},children:[Object(B.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){j(e.target.value)},id:"email",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),Object(B.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){r(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(B.jsx)(_.a,{control:Object(B.jsx)(se.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(B.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(B.jsxs)(ae.a,{container:!0,children:[Object(B.jsx)(ae.a,{item:!0,xs:!0,children:Object(B.jsx)(oe.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(B.jsx)(ae.a,{item:!0,children:Object(B.jsx)(oe.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(B.jsx)(de.a,{mt:5,children:Object(B.jsx)(Oe,{})})]}),Object(B.jsx)("div",{className:e.alert,children:Object(B.jsx)(le.a,{open:O,autoHideDuration:3e3,onClose:I,children:Object(B.jsx)(me,{onClose:I,severity:"error",children:"Invalid login details!"})})})]})})]})}var pe=a(147),ge=a(243),fe=a(244),ve=a(187),ye=a(246),we=a(245),Ce=a(241),Ne=a(100),ke=a(242),Se=Object(g.a)((function(e){return{card:{padding:e.spacing(3)},note:{border:function(e){return"todos"===e.category?"1px solid red":null}},avatar:{backgroundColor:function(e){switch(e.category){case"todos":return Ce.a[700];case"reminders":return m.a[500];case"work":return Ne.a[500];default:return ke.a[500]}}}}})),Ie=function(e){var t=e.note,a=Se(t);return Object(B.jsx)("div",{children:Object(B.jsxs)(ge.a,{elevation:5,className:a.note,children:[Object(B.jsx)(fe.a,{avatar:Object(B.jsx)(w.a,{className:a.avatar,children:t.category[0].toUpperCase()}),action:Object(B.jsxs)(ve.a,{children:[" ",Object(B.jsx)(we.a,{})]}),title:t.title,subheader:t.category}),Object(B.jsx)(ye.a,{children:Object(B.jsxs)(y.a,{variant:"body1",children:[" ",t.details]})})]})})};function Me(){var e=Object(o.useContext)(T),t=Object(b.a)(e,2),a=t[0];t[1],Object(p.g)();return Object(B.jsx)(R.a,{children:a?Object(B.jsx)(pe.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:a.getUser.notes.map((function(e){return Object(B.jsx)("div",{children:Object(B.jsx)(Ie,{variant:"outlined",note:e})},e.date)}))}):Object(B.jsx)(H.a,{color:"secondary",size:"25px"})})}var We=a(109),qe=a.n(We),$e=a(144),De=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ve(){var e=De(),t=Object(D.useMutation)(Z),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),s=i[0],l=i[1],j=Object(o.useState)(""),d=Object(b.a)(j,2),u=d[0],O=d[1],m=Object(p.g)(),h=Object(o.useContext)(T),x=Object(b.a)(h,2),g=(x[0],x[1]);console.log(window.localStorage.getItem("tokenValue"));var f=function(){var e=Object($e.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),""!==s&&""!==u){e.next=4;break}return e.abrupt("return");case 4:n({variables:{username:s,password:u}}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){r.data&&(window.localStorage.setItem("tokenValue",r.data.createUser.token),g(),m.push("/notes"))}),[r.data,m]),Object(B.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(B.jsx)(ie.a,{}),Object(B.jsxs)("div",{className:e.paper,children:[Object(B.jsx)(w.a,{className:e.avatar,children:Object(B.jsx)(ue.a,{})}),Object(B.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(B.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:f,children:[Object(B.jsxs)(ae.a,{container:!0,spacing:2,children:[Object(B.jsx)(ae.a,{item:!0,xs:12,sm:12,children:Object(B.jsx)(Q.a,{autoComplete:"fname",name:"userName",variant:"outlined",required:!0,onChange:function(e){var t=e.target;l(t.value)},fullWidth:!0,id:"userName",label:"Username",autoFocus:!0})}),Object(B.jsx)(ae.a,{item:!0,xs:12,children:Object(B.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(B.jsx)(ae.a,{item:!0,xs:12,children:Object(B.jsx)(Q.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){var t=e.target;O(t.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(B.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(B.jsx)(ae.a,{container:!0,justify:"flex-end",children:Object(B.jsx)(ae.a,{item:!0,children:Object(B.jsx)(oe.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(B.jsx)(de.a,{mt:5,children:Object(B.jsx)(Oe,{})})]})}var Ue=Object(u.a)({palette:{palette:{primary:m.a,secondary:h.a}},typography:{fontFamily:"Quicksand",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700}});var Be=function(){var e=Object(o.useContext)(T),t=Object(b.a)(e,2),a=t[0];return t[1],Object(B.jsx)(O.a,{theme:Ue,children:Object(B.jsx)(x.a,{children:Object(B.jsxs)(p.d,{children:[Object(B.jsx)(p.b,{path:"/login",children:Object(B.jsx)(xe,{})}),Object(B.jsx)(p.b,{path:"/register",children:Object(B.jsx)(Ve,{})}),Object(B.jsx)(p.b,{exact:!0,path:"/",children:Object(B.jsx)(ce,{})}),Object(B.jsxs)(F,{children:[Object(B.jsx)(p.b,{path:"/create",children:a||window.localStorage.getItem("tokenValue")?Object(B.jsx)(te,{}):Object(B.jsx)(p.a,{to:"/login"})}),Object(B.jsx)(p.b,{exact:!0,path:"/notes",children:a||window.localStorage.getItem("tokenValue")?Object(B.jsx)(Me,{}):Object(B.jsx)(p.a,{to:"/login"})})]})]})})})},Te=a(84),Ae=a(145),He=Object(D.createHttpLink)({uri:"/graphql"}),ze=Object(Ae.a)((function(e,t){var a=t.headers,n=localStorage.getItem("tokenValue");return{headers:Object(s.a)(Object(s.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),Fe=new D.ApolloClient({link:ze.concat(He),cache:new D.InMemoryCache});d.a.render(Object(B.jsx)(Te.ApolloProvider,{client:Fe,children:Object(B.jsx)(A,{children:Object(B.jsx)(l.a.StrictMode,{children:Object(B.jsx)(Be,{})})})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.51278ed4.chunk.js.map